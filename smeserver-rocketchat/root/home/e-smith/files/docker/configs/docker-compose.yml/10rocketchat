# This is a sample config file for docker-compose v 1.5
#
# The file can run more than one container
#
# docker-compose up -d
# docker-compose stop rocketchat
# docker-compose start rocketchat
#
# You can also use more than one compose file
#
# docker-compose -f mycontainers.yml up -d

rocketchat:
    image: rocketchat/rocket.chat:latest
    container_name: rocketchat
    environment:
        - MONGO_URL=mongodb://127.0.0.1:27017/rocketchat
        - ROOT_URL=https://{host.domain.com}
        - MAIL_URL=smtp://127.0.0.1:25
        - Accounts_UseDNSDomainCheck=True
#        - HUBOT_FORECAST_API_KEY=some key
#        - HUBOT_WEATHER_CELSIUS=Celcius
#        - HUBOT_GITHUB_TOKEN=some token
#        - HUBOT_GITHUB_USER=githubuser


    ports:
        - 3000:3000

    net: "host"

    # Specify an absolute path mapping
    volumes:
        - /opt/uploads/:/opt/uploads/
        #  - /opt/hubot-scripts/src/scripts/:/opt/hubot-scripts/src/scripts/

    restart: on-failure:2

    # Might need the UID/GID rather than name
    # user: dockerroot:dockerroot
     user: 392:390
     mem_limit: 256MB
